# fly.toml — for a non-HTTP, always-on worker (Machines platform)
app = "cinestats-seats-daemon"    # <— change to your app name from `fly apps create`
primary_region = "iad"            # or "yyz"/closest region you prefer

# Build from your Dockerfile (Playwright base)
[build]
dockerfile = "Dockerfile"

# Environment
[env]
TZ = "America/Toronto"
NODE_ENV = "production"

# Define the process to run (no HTTP service needed)
[processes]
app = ["node","cron/seatsSold_daemon.js"]

# VM sizing — Playwright is happier with 1GB
[[vm]]
memory = "1024mb"
cpu_kind = "shared"
cpus = 1

# No [[services]] block since this isn’t a web listener
