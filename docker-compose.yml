version: "3.9"

services:
  seats-sold:
    build: .
    container_name: seats-sold
    restart: unless-stopped
    env_file:
      - .env.txt
    environment:
      - TZ=America/Toronto
      # your daemon settings
      - RESYNC_MIN=180
      - LOOKAHEAD_H=8
      - BACKPAD_MIN=30
      - FLUSH_MIN=60
      - FLUSH_BATCH=100
      - CHECK_DELAY_SEC=780
      - WINDOW_SEC=60
      - QUIET_START=01:00
      - QUIET_END=10:00
      # Optional: debug your scrapers
      # - WEBDEV_DEBUG=1
      # Make sure Playwright does not attempt to download browsers in runtime
      - PLAYWRIGHT_BROWSERS_PATH=/ms-playwright
      - PLAYWRIGHT_SKIP_BROWSER_DOWNLOAD=1
    # Uncomment if you want persistent logs, npm cache, etc.
    # volumes:
    #   - ./logs:/boxoffice-bi-app/logs
